<div class="reports-page">
  <h2 class="title">Reports</h2>

  <div *ngIf="isLoading" class="info">Loading...</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <div *ngIf="!isLoading && !errorMessage && reports.length === 0" class="info">
    No reports found.
  </div>

  <div class="report-list" *ngIf="!isLoading && !errorMessage && reports.length > 0">
    <div class="report-card" *ngFor="let r of reports">
      <div class="row">
        <div class="label">Reason:</div>
        <div class="value">{{ reasonLabel(r.reason) }}</div>
      </div>

      <div class="row">
        <div class="label">On Book:</div>
        <div class="value">{{ r.bookTitle }}</div>
      </div>

      <div class="row">
        <div class="label">Target:</div>
        <div class="value">
          {{ targetLabel(r) }} â€”
          <ng-container *ngIf="targetRoute(r) as route; else noLink">
            <a class="mono target-link" [routerLink]="route">
              {{ targetId(r) }}
            </a>
          </ng-container>

          <ng-template #noLink>
            <span class="mono">{{ targetId(r) }}</span>
          </ng-template>
        </div>
      </div>

      <div class="row">
        <div class="label">Text:</div>
      </div>
      <div class="text">
        {{ r.text }}
      </div>
      <div class="report-actions">
        <button
          class="danger-btn"
          type="button"
          (click)="removeReport(r.id)">
          Remove
        </button>
      </div>
    </div>
  </div>
</div>
